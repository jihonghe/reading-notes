# 理解数据库系统

## 1. 从用户角度理解DBMS

### 1.1 从数据库的操作看

- **定义数据库**：定义数据库中的表的名称、列及列的约束等。基于此，DBMS提供了一套**数据定义语言DDL**(Data Definition Language)以供用户使用。DDL功能如下：
  - 创建(定义)数据表
- **操纵数据库**：基于已创建的数据表，对数据库中的表的数据进行增、删、改、查及统计等操作。基于此，DBMS提供了一套**数据操纵语言DML**(Data Manager Language)以供用户使用。DML功能如下：
  - INSERT：新增数据
  - DELETE：删除数据
  - UPDATE：更新数据
  - SELECT：查询数据（及数据统计等）
- **控制数据库**：控制数据库中对数据的使用，即对数据库中的用户的数据库使用权限进行约束，一般由DBA完成。基于此，DBMS提供了一套**数据控制语言DCL**(Data Control Language)以供用户使用。DCL功能如下：
  - 用户对数据库中数据表的读写权限
  - ……
- **数据库维护**：基于DBMS提供的数据库维护功能，DBA对数据库中的数据进行转储/恢复/重组/性能检测/分析等等操作。

### 1.2 从数据库语言看

- **数据库语言**：由数据库提供给使用者的用于操作数据库的语言，按照操作性质可分为以下三种：
  - **DDL**：Data Definition Language，通过DDL进行表的定义，包括创建表、设置列值类型、列约束等
  - **DML**：Data Manager Language，通过DML对表中的数据进行增删改查等操作
  - **DCL**：Data Control Language，通过DCL来定义对不同用户及其相关操作的约束
  - **DDL, DML及DCL的对比**
    - **操作对象不同**：从操作对象看，DDL操纵表、列的定义；DML操纵表中的数据；DCL对不同用户的DDL及DML操作进行相应的约束
    - **组成SQL语言**：DDL, DML及DCL共同组成了SQL语言

## 2. 从系统实现角度看DBMS

### 2.1 DBMS为完成DB的管理，后台运行一系列程序

- **语言编译器**：将SQL翻译成DBMS可执行命令，如：DDL编译器、DML编译器、DCL编译器等
- **查询优化(执行引擎)与查询实现(基本命令的不同执行算法)**：前者可提高数据检索速度，后者在数据存取的各个阶段进行优化
- **数据存取与索引**：提供数据的搞笑存取手段。如：存储管理器、缓冲区管理器、索引/文件和记录管理器等
- **通信控制**：提供网络环境下数据库操作与数据传输的手段
- **事务管理**：提供提高可靠性并避免并发操作错误的手段
- **故障恢复**：使得数据库恢复到故障发生前的正确状态的手段，如备份、执行日志操控等程序
- **各种控制程序**：安全性控制、完整性控制
- **……**

简单地说，DBMS通过对应的子程序完成编译与执行控制功能、查询优化功能、存储与索引功能、事务处理功能及各种控制功能。关于DBMS的功能，总结如下：

**DBMS**

- **数据库语言**
  - 按数据库语言操作对象分
    - DDL(数据定义语言)
    - DML(数据操纵语言)
    - DCT(数据控制语言)
  - 按数据库语言使用环境分
    - 嵌入式
    - 交互式(自含式)
    - 双重式
- **数据库执行例行程序**
  - 公用程序：定义程序、维护程序
  - 语言编译器：DDL编译器、DML编译器、DCL编译器
  - 查询与优化程序
  - 存储与索引程序
  - 事务管理程序
  - 各种控制程序
